<!--Login Form  -->
<mat-icon   (click)="closeDialogSignIn()"  fontIcon="close"></mat-icon>


<mat-card *ngIf="formType===1" class="card">
    <h2>Login</h2>
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <mat-form-field appearance="outline">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" placeholder="Enter your email" type="email" />
        <mat-error *ngIf="loginForm.controls['email'].invalid && loginForm.controls['email'].touched">
          Please enter a valid email
        </mat-error>
      </mat-form-field>
      
      <div class="forget-pass-container">
        <span (click)="handleFormType(2)" class="forget-pass">Forget Password?</span>
      </div>
      <mat-form-field appearance="outline">
        <mat-label>Password</mat-label>
        <input matInput formControlName="password" placeholder="Enter your password" [type]="hide ? 'password' : 'text'"/>
        <mat-error *ngIf="loginForm.controls['password'].invalid && loginForm.controls['password'].touched">
          Password is required
        </mat-error>
        <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
          <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
      </mat-form-field>
  
      <!-- error message -->
      <p *ngIf="errorMessage" class="error-message">{{ errorMessage }}</p>
  
      <button mat-raised-button color="primary" type="submit" [disabled]="loginForm.invalid">
        Login
      </button>
    </form>
    <p style="margin-top: 10px;"> Don't have an Account? <span (click)="handleFormType(3)">Register</span> </p>
  </mat-card>
  


<!-- Forget pass -->
<mat-card *ngIf="formType===2" class="card">
<form [formGroup]="forgotPasswordForm" (ngSubmit)="onForgotPasswordSubmit()">
    <h2>Forgot Password</h2>
    <mat-form-field>
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" required>
        <mat-error *ngIf="forgotPasswordForm.get('email').hasError('required')">Email is required</mat-error>
        <mat-error *ngIf="forgotPasswordForm.get('email').hasError('email')">Enter a valid email</mat-error>
    </mat-form-field>
    <mat-form-field>
        <mat-label>New Password</mat-label>
        <input matInput formControlName="newPassword" type="password" required>
        <mat-error *ngIf="forgotPasswordForm.get('newPassword').hasError('required')">New password is required</mat-error>
    </mat-form-field>
    <mat-form-field>
        <mat-label>Confirm New Password</mat-label>
        <input matInput formControlName="confirmNewPassword" type="password" required>
        <mat-error *ngIf="forgotPasswordForm.get('confirmNewPassword').hasError('required')">Confirm new password is required</mat-error>
        <mat-error *ngIf="forgotPasswordForm.hasError('passwordMismatch')">Passwords do not match</mat-error>
    </mat-form-field>
    <button mat-raised-button color="primary"  [disabled]="forgotPasswordForm.invalid" type="submit">Reset Password</button>
    </form>  
    <p style="margin-top: 10px;"> <span (click)="handleFormType(1)">Login</span> </p>  
</mat-card>


<!-- Register Form -->
<mat-card *ngIf="formType===3" class="card">
    <form [formGroup]="registerForm" (ngSubmit)="onRegisterSubmit()">
        <h2>Register</h2>
        <mat-form-field>
          <mat-label>Name</mat-label>
          <input matInput formControlName="name" required/>
          <mat-error *ngIf="registerForm.get('name').hasError('required')">Name is required </mat-error>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Mobile Number</mat-label>
          <input matInput formControlName="number" required/>
          <mat-error *ngIf="registerForm.get('number').hasError('required')"> Mobile Number is required </mat-error>
          <mat-error *ngIf="registerForm.get('number').hasError('pattern')">Invalid number</mat-error>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" required>
          <mat-error *ngIf="registerForm.get('email').hasError('required')">Email is required</mat-error>
          <mat-error *ngIf="registerForm.get('email').hasError('email')">Enter a valid email</mat-error>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Create Password</mat-label>
          <input matInput formControlName="password" type="password" required>
          <mat-error *ngIf="registerForm.get('password').hasError('required')">Password is required</mat-error>
        </mat-form-field>
        
        
        <button mat-raised-button color="primary" [disabled]="registerForm.invalid" type="submit">Register</button>
      </form>
      <p style="margin-top: 10px;"> Already have an Account? <span (click)="handleFormType(1)">Login</span> </p>
  </mat-card>


  <!-- writing something to check git functionality -->